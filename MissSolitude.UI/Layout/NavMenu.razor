<nav class="nav-panel">
    <div class="nav-header">
        <div class="logo-mark">MS</div>
        <div class="brand-text">
            <span class="brand-name">MissSolitude</span>
            <span class="brand-tag">Dashboard</span>
        </div>
        
        <!-- Added 'open' class conditionally for animation -->
        <button title="Navigation menu" class="nav-toggle @(_collapseNavMenu ? "" : "open")" @onclick="ToggleNavMenu">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>
    </div>

    <!-- 
      Changed logic slightly: 
      Instead of hiding with 'collapse', we toggle 'show-menu' for the mobile animation 
    -->
    <div class="nav-scrollable @(_collapseNavMenu ? "" : "show-menu")" @onclick="CloseNavMenuOnMobile">
        
        <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
            <span class="icon">🏠</span>
            <span class="label">Home</span>
        </NavLink>

        <NavLink class="nav-link" href="analytics">
            <span class="icon">📊</span>
            <span class="label">Analytics</span>
        </NavLink>

        <NavLink class="nav-link" href="messages">
            <span class="icon">📫</span>
            <span class="label">Messages</span>
        </NavLink>
        
        <NavLink class="nav-link" href="settings">
            <span class="icon">⚙️</span>
            <span class="label">Settings</span>
        </NavLink>

    </div>
</nav>

@code {
    private bool _collapseNavMenu = true;

    private void ToggleNavMenu()
    {
        _collapseNavMenu = !_collapseNavMenu;
    }

    private void CloseNavMenuOnMobile()
    {
        // Optional: Close menu when a link is clicked (better UX for mobile)
        _collapseNavMenu = true;
    }
}